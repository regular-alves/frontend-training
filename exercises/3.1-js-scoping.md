# 3.1 JS Scoping

## Goal
End global `querySelector` usage - scripts must be scoped to their component's root element.

---

## Errors to Find

| # | Error | Difficulty |
|---|-------|------------|
| 3.1.1 | `document.querySelector` used globally | Easy |
| 3.1.2 | Global variables polluting `window` scope | Easy |
| 3.1.3 | Multiple component instances conflict with each other | Hard |
| 3.1.4 | State managed via DOM instead of data attributes | Hard |

---

## What to Look For

```js
// Global querySelector
document.querySelector('.tab')
document.querySelectorAll('.faq-item')

// Global variables
var currentTab = 0;
window.isModalOpen = false;

// Should be scoped
function initTabs(container) {
  container.querySelectorAll('.tab')
}
```

---

## Test for Conflicts

1. Duplicate a component (e.g., two FAQ sections)
2. Interact with one instance
3. Check if the other instance is affected

If they conflict, the JS is not properly scoped.

---

## Validation

1. Search for `document.querySelector` in scripts
2. Check for global `var` declarations
3. Test with multiple instances of same component
